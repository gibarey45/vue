<main>
  <h1 class="headline">CHATBOT CHALLENGE</h1>
  <div>
    <div class="row justify-content-center">
      <div class="col-md-6 no-gutters">
        <div class="row box">
          <div class="col-md-12">
            <section ref="chatArea" class="chat-area">
              <ul class="chat-box-list">
                <li
                        class="message"
                        v-for="(message, idx) in messages"
                        :key="idx"
                        :class="message.author"
                >
                  <p>
                    <span class="message message-client" v-if="message.author === 'client'">{{ message.text }}</span>
                    <span class="message message-server" v-if="message.author === 'server'" v-html="message.text"></span>
                  </p>
                </li>
              </ul>
            </section>
          </div>
          <div class="col-md-12">
            <div class="row m-1">
              <input class="form-control col-md-10"
                     type="text"
                     v-model="message"
                     @keyup.enter="sendMessage (message, 'client')"
                     placeholder="Please, type your message here" autocomplete="false"
              />
              <button class="col-md-2 btn btn-success" @click="sendMessage">Send</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <modal ref="authentication" name="authentication" width="400px" height="auto" :clickToClose="false">
      <div class="login-container">
        <b-card>
          <b-form-group
                  id="login-group-username"
                  label="Username:"
                  label-for="input-username"
                  description="We'll never share your email with anyone else."
          >
            <b-form-input
                    id="login-input-username"
                    v-model="username"
                    type="username"
                    required
                    placeholder="Enter username"
            ></b-form-input>
          </b-form-group>
          <b-form-group
                  id="login-group-password"
                  label="Password:"
                  label-for="input-password">
            <b-form-input
                    id="login-input-password"
                    v-model="password"
                    type="password"
                    required
                    placeholder="Enter password"
                    @keyup.enter="processLogin()"
            ></b-form-input>
          </b-form-group>
          <b-button  @click="processLogin()" variant="success">Login</b-button>
        </b-card>
      </div>
    </modal>
  </div>
</main>
